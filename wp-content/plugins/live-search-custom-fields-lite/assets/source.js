function is_step2_active(){var a=jQuery,b=!1;return function(){b||(b=!0,a('.step2 input[type="checkbox"]').each(function(){a(this).click(function(){a('.step2 input[type="checkbox"]').each(function(){var b=a(this).attr("checked")?1:0;if(a(".step2").addClass("active"),1==b)return!1})})}))}}function LscfWooCommerce(){var a=jQuery,b=this,c=adminData.lscf_url;return this.template={type:"woocommerce",tax:{headline:"WooCommerce data filter",items:[],templateUrl:c+"assets/js/templates/filter/tax-woocommerce-template.html",display_as_set_active:function(){return function(a,b){var c=b(a).split("__"),d=c[0],e=c[1];if(d==e)return"selected"}},set_checkbox_as_active:function(){return function(a,b){if("1"==b(a))return"checked"}}}},this.init_tax_subcategories,this.set_the_active_tax_terms=function(a){if(""!=a&&null!=a.filterID)for(var c=0;c<b.template.tax.items.length;c++)for(var d=0;d<a.data.fields.length;d++)if("taxonomies"==a.data.fields[d].group_type){var e=b.template.tax.items[c],f=a.data.fields[d],g=f.slug.split("_-_");if(g=g[0],e.taxonomy==g){e.title=f.name,e.display_as=f.display_as,"undefined"!=typeof f.subcategories_hierarchy_display&&(e.subcategories_hierarchy_display=f.subcategories_hierarchy_display),"undefined"!=typeof f.display_parent_categs_as_filters?e.display_parent_categs_as_filters=f.display_parent_categs_as_filters:e.display_parent_categs_as_filters=0;for(var h=0;h<e.categs.length;h++)"undefined"!=typeof f.terms_list[e.categs[h].data.term_id]&&(e.categs[h].data.active=1),"undefined"!=typeof e.categs[h].subcategs&&("undefined"!=typeof f.subcategs_parent_id?f.subcategs_parent_id==e.categs[h].subcategs.parent_id&&(e.categs[h].subcategs.active=1,e.categs[h].subcategs.display_as=f.display_as):"undefined"!=typeof f.subcategories_hierarchy_display&&1===f.subcategories_hierarchy_display&&"undefined"!=typeof f.terms_list[e.categs[h].subcategs.parent_id]&&(e.categs[h].subcategs.active=1,e.categs[h].subcategs.display_as=f.terms_list[e.categs[h].subcategs.parent_id].display_as));for(var i in e.subcategs)for(var j=0;j<e.subcategs[i].length;j++){var k=e.subcategs[i][j].term_id;"undefined"!=typeof f.terms_list[k]&&(e.subcategs[i][j].active=1)}for(var j=0;j<e.unsorted_subcategories.length;j++){var k=e.unsorted_subcategories[j].term_id;"undefined"!=typeof f.terms_list[k]&&(e.unsorted_subcategories[j].active=1)}}b.template.tax.items[c]=e}},this.callbacks={},this.callbacks.getPostTaxonomies=function(c,d){var e="<h4>WooCommerce data filter </h4>",f=0;b.template.tax.items=[],a("#px_post_categories").html(e),c.forEach(function(a){var c=!0;if("undefined"!=typeof a.parent_categs){var d={};switch(d.index=f,d.name=a.taxonomy.replace("pa_","").replace("_"," "),d.taxonomy=a.taxonomy,d.unsorted_subcategories=a.unsorted_subcategs,d.hasThumb=0,a.taxonomy){default:if(d.type="attribute",a.taxonomy.match(/^pa_(.*)/)){c=!1,d.hasThumb=1;var e=a.taxonomy.match(/^pa_(.*)/),g=e[1].replace(/\b\w/g,function(a){return a.toUpperCase()}),h="<label>Filter by</label> Product Attributes - <strong>"+g+"</strong></span><br/>"}break;case"product_type":c=!1;var g="Product Types",h="<label>Filter by</label> <strong>Product Type</strong></span><br/>";break;case"product_cat":c=!1;var g="Product Categories",h="<label>Filter by</label> <strong>Product Categories</strong></span><br/>";break;case"product_tag":c=!1;var g="Product Tags",h="<label>Filter by</label> <strong>Product Tags</strong></span><br/>"}0==c&&(d.headline=h,d.title=g,d.categs=[],"undefined"!=typeof a.parent_categs&&null!==a.parent_categs&&(a.parent_categs.forEach(function(b,c){var e="";if("undefined"!=typeof b.has_subcategories&&1===b.has_subcategories&&"undefined"!=typeof b.data){e="has-subcategs",b.subcategs={parent_name:b.data.name,parent_id:b.data.term_id,list:"",items:[]};var f=0;a.subcategs[b.data.term_id].forEach(function(a){f<=5&&(b.subcategs.list+=a.name+", "),b.subcategs.items.push(a),f++}),b.subcategs.list=b.subcategs.list.substring(0,b.subcategs.list.length-2)+".."}else b.subcategs=!1;b.className=e,d.categs.push(b)}),d.has_subcategories="undefined"!=typeof a.has_subcategories?a.has_subcategories:0,d.subcategs="undefined"!=typeof a.subcategs?a.subcategs:"",b.template.tax.items.push(d),f++))}}),a.get(b.template.tax.templateUrl,function(c){b.set_the_active_tax_terms(d);var e=Mustache.render(a(c).filter("#template-tax-posts").html(),b.template.tax);a("#px_post_categories").html(e);for(var g=0;g<f;g++)checkAllCheckboxes(a(".px-post-tax"+g+" .tax-categories-container")),checkAllCheckboxes(a(".px-post-tax"+g+" .tax-subcategories-display"),!0);setTimeout(function(){isStep2Active()},400),init_custom_dropdown(a(".post-categories-group"))}),0==f?a(".post-categories-group .expandable-container-headline").addClass("inactive"):a(".post-categories-group .expandable-container-headline").removeClass("inactive")},{callbacks:b.callbacks}}function PX_pluginLF(){var a=this,b="px-plugin-ajax",c=adminData.ajaxURL;this.edit_shortcode={filterID:null,data:null},this.postType="",this.callbacks,this.template={tax:{items:[],templateUrl:adminData.lscf_url+"assets/js/templates/filter/tax-template.html",display_as_set_active:function(){return function(a,b){var c=b(a).split("__"),d=c[0],e=c[1];if(d==e)return"selected"}},set_checkbox_as_active:function(){return function(a,b){if("1"==b(a))return"checked"}}},tax_subcategs:{items:{},templateUrl:adminData.lscf_url+"assets/js/templates/filter/tax-subcategs-template.html",set_checkbox_as_active:function(){return function(a,b){if("1"==b(a))return"checked"}}},custom_fields:{items:{},templateUrl:adminData.lscf_url+"assets/js/templates/filter/custom-fields-template.html",set_checkbox_as_active:function(){return function(a,b){if("1"==b(a))return"checked"}},display_as_set_active:function(){return function(a,b){var c=b(a).split("__"),d=c[0],e=c[1];if(d==e)return"selected"}}},featured_fields:{templateUrl:adminData.lscf_url+"assets/js/templates/filter/featured-fields-template.html",set_as_active:function(){return function(a,b){if(1===parseInt(b(a)))return"checked"}}},additional_fields:{search:{templateUrl:adminData.lscf_url+"assets/js/templates/filter/af-search-template.html"},text_fields:{items:[]},date_fields:{items:[]},set_as_active:function(){return function(a,b){var c=b(a).split("___");if(c[0]==c[1])return"checked"}},templateUrl:adminData.lscf_url+"assets/js/templates/filter/af-template.html",items:[]},date_fields:{items:null},text_fields:{items:null}},this.isWooCommerce=!1,this.template.get_text_custom_fields=function(b,c){a.getCustomFieldsByPostType(b,["number"],function(b){1==b.success&&"undefined"!=typeof b.data.data.fields&&(a.template.text_fields.items=b.data.data.fields),"undefined"!=typeof c&&c()})},this.template.get_date_custom_fields=function(b,c){a.getCustomFieldsByPostType(b,["date"],function(b){1==b.success&&"undefined"!=typeof b.data.data.fields&&(a.template.date_fields.items=b.data.data.fields),"undefined"!=typeof c&&c()})},this.init=function(){a.removeAdditionalFilterFields(),a.sanitizeAdditionalFilterFieldsName(),a.retrievefilterShortcodeData(function(){var b={date_fields:!1,text_fields:!1};a.postType=a.edit_shortcode.data.post_type,null!==a.edit_shortcode.data.filterID&&"product"==a.edit_shortcode.data.post_type?(a.getPostCategories(a.edit_shortcode.data.post_type,LscfWooComm.callbacks.getPostTaxonomies),a.isWooCommerce=!0,a.callbacks.isWooCommerce=a.isWooCommerce,$j("#px-filter-for").val("woocommerce")):(a.getPostCategories(a.edit_shortcode.data.post_type,a.callbacks.get_post_categories_callback),$j("#px-filter-for").val("custom-posts")),a.template.get_date_custom_fields(a.edit_shortcode.data.post_type,function(){b.date_fields=!0,a.load_additional_fields_template(b)}),a.template.get_text_custom_fields(a.edit_shortcode.data.post_type,function(){b.text_fields=!0,a.load_additional_fields_template(b)}),a.load_featured_fields_template(a.edit_shortcode.data.post_type),a.generate_active_additional_fields(),a.getCustomFieldsByPostType(a.edit_shortcode.data.post_type,null,a.callbacks.getCustomFieldsByPostType)}),a.addAdditionalFields(),$j("#px_filter-name-shorcode-generator").keydown(function(a){if(13==a.keyCode)return a.preventDefault(),!1});var b=document.getElementById("px_filter-name-shorcode-generator");null!==b&&b.length>0&&(document.getElementById("px_filter-name-shorcode-generator").onkeydown=function(a){if(13==a.keyCode){if(""===$j("#px_filter-name-shorcode-generator").val())return $j("#px_filter_name_error").fadeIn(),!1;$j("#goToFilterFields").hide(),$j("#px_filter_name_error").hide(),$j(".lscf-step-2").fadeIn(),$j("#active-shortcodes-list").hide()}}),$j("#goToFilterFields").click(function(){return""===$j("#px_filter-name-shorcode-generator").val()?($j("#px_filter_name_error").fadeIn(),!1):($j("#px_filter_name_error").hide(),$j(this).hide(),$j(".lscf-step-2").fadeIn(),void $j("#active-shortcodes-list").hide())}),$j(".cf-remove-custom-post").each(function(){$j(this).click(function(b){b.stopPropagation(),b.preventDefault();var c=$j(this).closest(".px-post-type-row"),d=$j(this).closest(".px-post-type-row").data("key"),e=confirm("Are you sure you want to remove the custom post type?");!0===e&&a.removeCustomPostType_ajaxRequest(d,function(){c.remove()})})}),$j(".remove-custom-post").each(function(b){$j(this).click(function(){var b=$j(this).parent().data("key");a.removeCustomPostType_ajaxRequest(b,function(){window.location.reload()})})}),$j("#create-new-custom-post").click(function(){var b=$j("#customPostName").val();"undefined"!=typeof b&&""!=b&&a.addNewCustomPostType_ajaxRequest(b)}),$j(".expandable-container-headline").each(function(a){$j(this).click(function(){if(!$j(this).hasClass("inactive"))if($j(this).hasClass("active")?$j(this).removeClass("active"):$j(this).addClass("active"),$j(".expandable-container").eq(a).hasClass("active"))$j(".expandable-container").eq(a).css({"min-height":"0px"}),$j(".expandable-container").eq(a).animate({height:"0px"},300,function(){$j(".expandable-container").eq(a).removeClass("active")});else{$j(".expandable-container").eq(a).addClass("active");var b=$j(".expandable-container").eq(a).find(".data-container").height();b=b<170?"180":b,$j(".expandable-container").eq(a).animate({height:Math.round(b)},300,function(){$j(".expandable-container").eq(a).css({"min-height":b+"px",height:"auto"}),$j(".expandable-container").eq(a).hasClass("filter-display-settings")&&!$j(".expandable-container").eq(a).hasClass("slick-active")&&($j(".expandable-container").eq(a).addClass("slick-active"),setTimeout(function(){$j(".theme-options-slider").slick({infinite:!1})},200))})}})}),setTimeout(function(){$j(".px_lf_post-type").find(".pxselect-options li").each(function(){$j(this).click(function(){var b=$j(this).attr("rel"),c=$j(this).text();"Products(WooCommerce)"===c||"product"==b?($j("#px-filter-for").val("woocommerce"),a.isWooCommerce=!0):($j("#px-filter-for").val("custom-posts"),a.isWooCommerce=!1),a.callbacks.isWooCommerce=a.isWooCommerce,$j("#px_additional-fields-container").empty(),0!=b?$j(".step1").addClass("active"):$j(".step1").removeClass("active"),a.postType=b,a.getCustomFieldsByPostType(b,null,a.callbacks.getCustomFieldsByPostType),!0===a.isWooCommerce?($j(".post-categories-group .expandable-container-headline").html("WooCommerce"),a.getPostCategories(b,LscfWooComm.callbacks.getPostTaxonomies)):($j(".post-categories-group .expandable-container-headline").html("Categories"),a.getPostCategories(b,a.callbacks.get_post_categories_callback)),a.load_featured_fields_template(b)})})},700),$j("#pxcf_generate-shortcode").click(function(){if($j(this).hasClass("inactive"))return!1;$j("#lscf-shortcode-generated-message").hide(),$j("#lscf-saving-shorcode-message").fadeIn(),$j(this).addClass("inactive");var b=$j("#generateshortcode-form").serializeArray(),c="edit"==$j(this).attr("data-type"),d=!0===c?$j(this).attr("data-filter-id"):null,e=$j(this);if($j(".lscf-custom-theme:checked").length>0){var f=$j(".lscf-custom-theme:checked").attr("data-url"),g=$j(".lscf-custom-theme:checked").attr("data-name");b.push({name:"filter-custom-theme-url",value:f}),b.push({name:"filter-custom-theme-name",value:g})}var h={postType:a.postType,editShortcode:c,filterID:d},i=$j(".colorpick-rgba").attr("style"),j=i.match(/background-color\:(.+?);/),k=j[1].replace(/rgb\(|\)/g,"");if(b.length>0){if(null==b[0].value||""==b[0].value)return void $j("#px_filter_name_error").fadeIn();b.push({name:"filter-main-color-rgb",value:k}),a.generateShortCode(b,h,function(b){!1===c&&(a.callbacks.generateShortCode_callback(b),a.removeFilterShortcode(),$j(".step4").addClass("active")),$j("#lscf-saving-shorcode-message").hide(),$j("#lscf-shortcode-generated-message").fadeIn(),e.removeClass("inactive")})}}),a.removeFilterShortcode()},this.generate_active_additional_fields=function(){for(var b=a.edit_shortcode.data.fields,c=0,d=0;d<b.length;d++)if("additional_fields"==b[d].group_type)switch(b[d].type){case"search":b[d].index=c,b[d].is_search=1,a.template.additional_fields.items.push(b[d]),c++}},this.load_featured_fields_template=function(b){a.getCustomFieldsByPostType(b,"all",function(b){if("undefined"!=typeof b.success&&1==b.success){var b=b.data.data,c={items:[]};if(b.success=1,b.fields.forEach(function(b){"px_check_box"!==b.slug&&"px_icon_check_box"!==b.slug&&(null!==a.edit_shortcode.filterID&&b.value==a.edit_shortcode.data.featuredLabelFieldID?b.active=1:b.active=0,c.items.push(b))}),!0===a.isWooCommerce){c.woo_items=[];var d={ID:"woocommerce-featured-price",value:"woocommerce-featured-price",name:"Price ( WooCommerce )"};d.active="woocommerce-featured-price"==a.edit_shortcode.data.featuredLabelFieldID?1:0,c.woo_items.push(d)}c.is_woocommerce=a.isWooCommerce,a.get_featured_fields_template(c,function(a){$j(".px_featured-field").find("h4").show(),$j("#setAsFeaturedField").html(a),$j(".featured-fields-group .expandable-container-headline").removeClass("inactive"),$j("#setAsFeaturedField .px_radiobox").each(function(){$j(this).click(function(){$j(".featured-fields-group.step3").addClass("active")})})})}else $j(".featured-fields-group .expandable-container-headline").addClass("inactive"),$j(".px_featured-field").find("h4").hide(),$j("#setAsFeaturedField").html("")})},this.get_featured_fields_template=function(b,c){$j.get(a.template.featured_fields.templateUrl,function(d){b.set_as_active=a.template.featured_fields.set_as_active;var e=Mustache.render($j(d).filter("#px-filter-featured-fields-template").html(),b);c(e)})},this.retrievefilterShortcodeData=function(b){null!=a.edit_shortcode.filterID&&a.getFilterData(a.edit_shortcode.filterID,function(c){a.edit_shortcode.data=c;for(var d=[],e=0;e<c.fields.length;e++)if("taxonomies"==c.fields[e].group_type){"undefined"==typeof d[e]&&(d[e]=c.fields[e],d[e].terms_list=[]),"undefined"!=typeof c.fields[e].subcategs_parent_id&&(d[e].terms_list[c.fields[e].subcategs_parent_id]={data:{name:c.fields[e].name,value:c.fields[e].subcategs_parent_id}});for(var f=0;f<c.fields[e].terms.length;f++){var g=c.fields[e].terms[f];d[e].terms_list[g.data.value]=g}}else d.push(c.fields[e]);a.edit_shortcode.data.fields=d,b()})},this.load_additional_fields_template=function(b){return!1!==b.date_fields&&!1!==b.text_fields&&(a.template.additional_fields.text_fields.items=a.template.text_fields.items,a.template.additional_fields.date_fields.items=a.template.date_fields.items,a.template.additional_fields.is_woocommerce=a.isWooCommerce,void $j.get(a.template.additional_fields.templateUrl,function(b){var c=Mustache.render($j(b).filter("#px-filter-additional-fields-template").html(),a.template.additional_fields);$j("#px_additional-fields-container").prepend(c)}))},this.sanitizeAdditionalFilterFieldsName=function(){$j("#px_additional-fields-container").on("blur",".px_sanitize-OnBlur",function(){var a=$j(this).parent(),b=$j(this).val();""!=b&&(b=pxSanitize(b),a.find(".px_sanitized-key").val(b))})},this.addAdditionalFields=function(){$j("#px_add-additional-field").click(function(){var b=$j("#px_additional-fields").val();if(""==b||null==b)return void alert("Please select an option");$j("#px-filter-selected-post-type").val();switch(b){case"search":var c=$j(".px_additional-fields-row.px_search").length;if(!0===a.isWooCommerce){if(c>1)return void alert("The filter with WooCommerce can have only 2 fields of this type")}else if(c>0)return void alert("The filter can have only 1 field of this type");if(a.template.additional_fields.search.is_woocommerce=!0===a.isWooCommerce?1:0,a.isWooCommerce){var d=$j(".px_search")?$j(".px_search").length:0;a.template.additional_fields.search.search_field_length=d}$j.get(a.template.additional_fields.search.templateUrl,function(b){var c=Mustache.render($j(b).filter("#px-filter-additional-fields-template").html(),a.template.additional_fields.search);$j("#px_additional-fields-container").prepend(c)})}})},this.removeAdditionalFilterFields=function(){$j("#px_additional-fields-container").on("click",".px_remove-additional-field",function(){var a=$j(this).closest(".px_additional-fields-row");a.remove()})},this.removeFilterShortcode=function(){$j(".px_remove-shortcode").on("click",function(){var b=$j(this).data("id");$j(this).data("post");a.removeShortcode(b,$j(this).closest(".single-shortcode"),a.callbacks.removeShortcode_callback)})},this.removeCustomPostType_ajaxRequest=function(a,d){$j.ajax({type:"POST",url:c,data:{action:b,section:"removeCustomPostType",key:a},success:function(a){null!=d&&d(a)},dataType:"html"})},this.getPostCategories=function(d,e){$j.ajax({type:"POST",url:c,data:{action:b,section:"getPostCategories",post_type:d},success:function(b){e(b,a.edit_shortcode)},dataType:"json"})},this.addNewCustomPostType_ajaxRequest=function(a){$j.ajax({type:"POST",url:c,data:{action:b,section:"addNewCustomPostType",name:a},success:function(a){document.cookie="px_new_custom_post=1",window.location.reload()},dataType:"html"})},this.getCustomFieldsByPostType=function(d,e,f){$j.ajax({type:"POST",url:c,data:{action:b,section:"getPostType_customFields",fieldType:e,post_type:d},success:function(b){f(b,a.edit_shortcode)},dataType:"json"})},this.getFilterData=function(a,d){$j.ajax({type:"POST",url:c,data:{filter_id:a,action:b,section:"get_filter_data"},success:function(a){d(a)},dataType:"json"})},this.generateShortCode=function(a,d,e){var f=d.postType;$j.ajax({type:"POST",url:c,data:{action:b,section:"generateShortcode",actionData:d,fieldsData:a,postType:f},success:function(a){e(a)},dataType:"json"})},this.removeShortcode=function(a,d,e){$j.ajax({type:"POST",url:c,data:{action:b,section:"removeShortcode",filterID:a},success:function(a){e(d,a)},dataType:"json"})}}function ajaxCallbacks(){var a=this;this.isWooCommerce=!1,this.template=PX_pluginLF.template,this.initCustomFields=function(){$j(".post-custom-fields-group").each(function(){$j(this).find(".px-inline").each(function(){var a=$j(this);$j(this).find(".px-checkbox-label").click(function(){var b=a.find('input[type="checkbox"]:checked').length>0?1:0;1===b?a.find(".select").addClass("inactive"):a.find(".select").removeClass("inactive")})})})},this.getCustomFieldsByPostType=function(b,c){if(1==b.success||!0===a.isWooCommerce){var d=b.success,e={fields:[],woo_fields:!1};if(1==d){var b=b.data.data;b.fields.forEach(function(a){switch(a.slug){case"px_radio_box":a.display_as=[{value:"default",name:"Display as"},{value:"not-available",name:"Radio"},{value:"not-available",name:"Dropdown"}],a.multiple_display=!0;break;case"px_select_box":a.display_as=[{value:"not-available",name:"Display as"},{value:"not-available",name:"Radio"},{value:"not-available",name:"Dropdown"}],a.multiple_display=!0;break;case"px_check_box":a.display_as=[{value:"default",name:"Display as"},{value:"not-available",name:"Radio"},{value:"not-available",name:"Dropdown"},{value:"not-available",name:"Checkbox"}],a.multiple_display=!0;break;case"px_icon_check_box":a.display_as=[{value:"default",name:"Display as"},{value:"not-available",name:"Radio"},{value:"not-available",name:"Dropdown"},{value:"not-available",name:"Checkbox"},{value:"not-available",name:"Icon w text"},{value:"not-available",name:"Icon only"}],a.multiple_display=!0;break;default:case"px_date":a.display_as=!1,a.multiple_display=!1}}),e.fields=b}if(!0===a.isWooCommerce){e.woo_fields=[];var f=[{ID:"px-woocommerce-instock-field",field_form_id:"",name:"In stock/out of stock (WooCommerce)",slug:"px-woocommerce-instock",value:"woocommerce-instock"}];e.woo_fields=f}a.template.custom_fields.items=e,$j.get(a.template.custom_fields.templateUrl,function(d){a.set_the_active_custom_fields(c);var e=Mustache.render($j(d).filter("#px-filter-custom-fields-template").html(),a.template.custom_fields);document.getElementById("px_post_fields").innerHTML=e,document.getElementById("px_post_fields").setAttribute("data-post",b.post_type),checkAllCheckboxes($j("#px_post_fields"),!0),$j(".post-custom-fields-group .expandable-container-headline").removeClass("inactive"),$j(".px_dynamic-field").each(function(){$j(this).show()}),setTimeout(function(){isStep2Active(),init_custom_dropdown($j(".post-custom-fields-group")),a.initCustomFields()},400)})}$j(".post-custom-fields-group .expandable-container-headline").each(function(){$j(this).hasClass("always-active")||$j(this).addClass("inactive")}),document.getElementById("px_post_fields").innerHTML="",$j(".px_dynamic-field").each(function(){$j(this).show()})},this.generateShortCode_callback=function(a){var b="<li>Filter name:<strong>"+a.name+'</strong><span data-id="'+a.filterID+'" data-post="'+a.post_type+'" class="px_remove-shortcode px_removeOption" >Remove</span><br/><textarea style="width:100%; text-align:left" rows="5" readonly="readonly">[px_filter id="'+a.filterID+'" post_type="'+a.post_type+'" ]</textarea><br/><i>Filter shortcode - copy shortcode to page editor for filter to show</i><hr/></li>';$j("ul#pxGenerateShortcodesContainer").prepend(b)},this.removeShortcode_callback=function(a,b){if(1==b.success)return void a.hide()},this.get_post_categories_callback=function(b,c){var d=0;a.template.tax.items=[],b.forEach(function(b){if("undefined"!=typeof b.parent_categs){var c={};c.index=d,c.title=b.taxonomy,c.taxonomy=b.taxonomy,c.unsorted_subcategories=b.unsorted_subcategs,c.categs=[],b.parent_categs.forEach(function(a,d){var e="";if("undefined"!=typeof a.has_subcategories&&1===a.has_subcategories){e="has-subcategs",a.subcategs={parent_name:a.data.name,parent_id:a.data.term_id,list:"",items:[]};var f=0;b.subcategs[a.data.term_id].forEach(function(b){f<=5&&(a.subcategs.list+=b.name+", "),a.subcategs.items.push(b),f++}),a.subcategs.list=a.subcategs.list.substring(0,a.subcategs.list.length-2)+".."}else a.subcategs=!1;a.className=e,c.categs.push(a)}),c.has_subcategories="undefined"!=typeof b.has_subcategories?b.has_subcategories:0,c.subcategs="undefined"!=typeof b.subcategs?b.subcategs:"",a.template.tax.items.push(c),d++}}),$j.get(a.template.tax.templateUrl,function(b){a.set_the_active_tax_terms(c);var e=Mustache.render($j(b).filter("#template-tax-posts").html(),a.template.tax);$j("#px_post_categories").html(e);for(var f=0;f<d;f++)checkAllCheckboxes($j(".px-post-tax"+f+" .tax-categories-container")),checkAllCheckboxes($j(".px-post-tax"+f+" .tax-subcategories-display"),!0);setTimeout(function(){isStep2Active(),init_custom_dropdown($j(".post-categories-group"))},400)}),0==d?$j(".post-categories-group .expandable-container-headline").addClass("inactive"):$j(".post-categories-group .expandable-container-headline").removeClass("inactive")},this.set_the_active_custom_fields=function(b){if(""!=b&&null!=b.filterID)for(var c=0;c<a.template.custom_fields.items.fields.fields.length;c++){var d=a.template.custom_fields.items.fields.fields[c];a.template.custom_fields.items.fields.fields[c].active=0,a.template.custom_fields.items.fields.fields[c].display="default";for(var e=0;e<b.data.fields.length;e++)if("custom_field"==b.data.fields[e].group_type){if(d.value==b.data.fields[e].ID){a.template.custom_fields.items.fields.fields[c].display=b.data.fields[e].display,a.template.custom_fields.items.fields.fields[c].active=1;break}if("woocommerce-instock"==b.data.fields[e].ID)for(var f=0;f<a.template.custom_fields.items.woo_fields.length;f++)"woocommerce-instock"==a.template.custom_fields.items.woo_fields[f].value&&(a.template.custom_fields.items.woo_fields[f].active=1,a.template.custom_fields.items.woo_fields[f].display=b.data.fields[e].display)}}},this.set_the_active_tax_terms=function(b){if(""!=b&&null!=b.filterID)for(var c=0;c<a.template.tax.items.length;c++)for(var d=0;d<b.data.fields.length;d++)if("taxonomies"==b.data.fields[d].group_type){var e=a.template.tax.items[c],f=b.data.fields[d],g=f.slug.split("_-_");if(g=g[0],e.taxonomy==g){e.title=f.name,e.display_as=f.display_as,"undefined"!=typeof f.subcategories_hierarchy_display&&(e.subcategories_hierarchy_display=f.subcategories_hierarchy_display),"undefined"!=typeof f.display_parent_categs_as_filters?e.display_parent_categs_as_filters=f.display_parent_categs_as_filters:e.display_parent_categs_as_filters=0;for(var h=0;h<e.categs.length;h++)"undefined"!=typeof f.terms_list[e.categs[h].data.term_id]&&(e.categs[h].data.active=1),"undefined"!=typeof e.categs[h].subcategs&&("undefined"!=typeof f.subcategs_parent_id?f.subcategs_parent_id==e.categs[h].subcategs.parent_id&&(e.categs[h].subcategs.active=1,e.categs[h].subcategs.display_as=f.display_as):"undefined"!=typeof f.subcategories_hierarchy_display&&1===f.subcategories_hierarchy_display&&"undefined"!=typeof f.terms_list[e.categs[h].subcategs.parent_id]&&(e.categs[h].subcategs.active=1,e.categs[h].subcategs.display_as=f.terms_list[e.categs[h].subcategs.parent_id].display_as));for(var i in e.subcategs)for(var j=0;j<e.subcategs[i].length;j++){var k=e.subcategs[i][j].term_id;"undefined"!=typeof f.terms_list[k]&&(e.subcategs[i][j].active=1)}for(var j=0;j<e.unsorted_subcategories.length;j++){var k=e.unsorted_subcategories[j].term_id;"undefined"!=typeof f.terms_list[k]&&(e.unsorted_subcategories[j].active=1)}}a.template.tax.items[c]=e}}}function pxSanitize(a){return a.trim().toLowerCase().replace(/([\!\@\#\$\%\^\&\*\(\[\)\]\{\-\}\\\/\:\;\+\=\.\<\,\>\?\~\`\'\" ]+)/g,"_")}function checkAllCheckboxes(a,b){jQuery;a.find(".tax-list-check-all").click(function(){var c=a.find(".tax-list-check-all").attr("for"),d=$j("#"+c+":checked").length>0?1:0;a.find('input[type="checkbox"]').each(function(){$j(this).hasClass("tax-list-check-all-checkbox")||(1==d?(!0===b&&$j(this).closest(".px-inline").find(".select").addClass("inactive"),$j(this).removeAttr("checked")):(!0===b&&$j(this).closest(".px-inline").find(".select").removeClass("inactive"),$j(this).attr({checked:"checked"})))})})}function LscfSettings(){var a=jQuery,b=this,c="px-plugin-ajax",d=adminData.ajaxURL;this.init=function(){b.reset_button_on_check()},this.reset_button_on_check=function(){a("#reset-button-checkbox").click(function(){var b=a("#px-reset-button:checked").length>0?1:0;1==b?a(this).closest(".lscf-opt").find(".lscf-extra-opt").removeClass("active"):a(this).closest(".lscf-opt").find(".lscf-extra-opt").addClass("active")})},this.saveSettings=function(){a("#lscf-save-settings").click(function(){a(".saving-status").removeClass("saved"),a(".saving-status").addClass("loading");var c=a(".colorpick-rgba").attr("style"),d=c.match(/background-color\:(.+?);/),e=d[1].replace(/rgb\(|\)/g,""),f=a(".colorpick-rgba").val(),g=a("#px-filter-posts-count").val(),h=a("#px-posts-page-count").val(),i={status:a("#px-reset-button:checked").length>0?a("#px-reset-button").val():0,name:a("#reset-button-extra-options").find('input[name="reset-button-name"]').val(),position:a("#reset-button-extra-options").find('input[name="reset-button-possition"]:checked').val()},j=a("#px-grid-view:checked").length>0?a("#px-grid-view").val():0,k=a("#lscf-see-more-writing").val(),l=a("#lscf-see-less-writing").val(),m=a("#lscf-load-more-writing").val(),n=a("#lscf-select-writing").val(),o=a("#lscf-any-writing").val(),p=a("#lscf-view-writing").val(),q=a("#lscf-filter-mobile-writing").val(),r=a("#lscf-add-to-cart-writing").val(),s=a("#lscf-filter-no-results-writing").val(),t=a("#lscf-filter-title-writing").val(),u=a("#lscf-filter-date-writing").val(),v={color:{color:f,rgb:e},posts_per_page:{posts_only:h,filter:g},reset_button:i,block_view:j,see_more_writing:k,see_less_writing:l,load_more_writing:m,any_writing:o,select_writing:n,view_writing:p,filter_writing:q,add_to_cart:r,no_results:s,title_writing:t,date_writing:u};b.saveSettingsAjaxRequest(v,function(b){a(".saving-status").removeClass("loading"),a(".saving-status").addClass("saved")})})},this.saveSettingsAjaxRequest=function(b,e){a.ajax({type:"POST",url:d,data:{action:c,section:"save-general-settings",settings:b},success:function(a){e(a)},dataType:"html"})}}function getCookie(a){var b="; "+document.cookie,c=b.split("; "+a+"=");return 2==c.length&&c.pop().split(";").shift()}function init_custom_dropdown(a){jQuery;a.find(".custom-select-type-1").each(function(){var a=$j(this).attr("data-class"),b=$j(this),c=$j(this).children("option").length;b.addClass("s-hidden"),b.wrap('<div class="select '+a+'"></div>'),b.after('<div class="styledSelect"></div>');var d=b.next("div.styledSelect");d.text(b.children("option").eq(0).text());for(var e=$j("<ul />",{class:"options"}).insertAfter(d),f=0;f<c;f++)b.children("option").eq(f).is(":selected")&&d.text(b.children("option").eq(f).text()),$j("<li />",{text:b.children("option").eq(f).text(),rel:b.children("option").eq(f).val(),class:b.children("option").eq(f).attr("data-status")}).appendTo(e);var g=e.children("li");d.click(function(a){$j(this).closest(".select").hasClass("inactive")||$j(this).closest(".select").hasClass("not-available")||(a.stopPropagation(),$j("div.styledSelect.active").each(function(){$j(this).removeClass("active").next("ul.options").hide()}),$j(this).toggleClass("active").next("ul.options").toggle())}),g.click(function(a){return a.stopPropagation(),!$j(this).hasClass("lscf-inactive")&&(d.text($j(this).text()).removeClass("active"),b.val($j(this).attr("rel")),void e.hide())}),$j(document).click(function(){d.removeClass("active"),e.hide()})})}function filterThemeSettings(){var a=jQuery,b=this;return this.init=function(){b.initResetButtonExtraOpt(),a(".filter-main-color").colorPicker()},this.initResetButtonExtraOpt=function(){var b=a("#px-reset-button:checked").length>0?1:0;1==b&&a("#single-filter-reset-button-opt").fadeIn(),a("#reset-button-checkbox").click(function(){var b=a("#px-reset-button:checked").length>0?1:0;1==b?a("#single-filter-reset-button-opt").hide():a("#single-filter-reset-button-opt").fadeIn()})},this.manageExtraThemeOptions=function(){a(".theme-style-type").on("click",function(){var b=parseInt(a(this).attr("data-columns")),c=parseInt(a(this).attr("data-viewchanger")),d=parseInt(a(this).attr("data-link-type"));1==c?a(".pxfilter-style-multiple-views").fadeIn():a(".pxfilter-style-multiple-views").hide(),0==b?a(".theme-columns-opt").hide():a(".theme-columns-opt").fadeIn(),1==d?a(".pxfilter-style-link-type").fadeIn():a(".pxfilter-style-link-type").hide()})},this.init()}function ImportExportCustomFields(){var a=jQuery,b=this,c="px-plugin-ajax",d=adminData.ajaxURL;this.init=function(){a("#lscf-export-cf").click(function(){a("#export-custom-fields-form").submit()}),a("#submit-export-custom-posts-list").click(function(){a("#export-custom-posts-list").submit()}),a("#lscf-submit-import").click(function(){a("#lscf-import-cf").submit()}),a("#lscf-submit-form-cp").click(function(){a("#lscf-import-cp-form").submit()}),b.checkAllPostsInit()},this.serializeCustomPostsList=function(){var a=document.forms["export-custom-fields"],c=[],d=!1;if("undefined"==typeof a)return!1;var e=a.elements;for(key in e)if(b.isInt(key))switch(e[key].type){case"checkbox":e[key].checked===!0&&(c.push(e[key].value),d=!0)}return!!d&&c},this.isInt=function(a){return!isNaN(a)&&parseInt(Number(a))==a&&!isNaN(parseInt(a,10))},this.exportToJson=function(b,e){a.ajax({type:"POST",url:d,data:{action:c,section:"export-custom-fields-to-json",postsList:b},success:function(a){e(a)},dataType:"html"})},this.checkAllPostsInit=function(){
checked=!1,a("#export-all-c_posts").click(function(){checked=!checked,!0===checked?a('.lscf-custom-posts input[type="checkbox"]').each(function(){a(this).attr({checked:"checked"})}):a('.lscf-custom-posts input[type="checkbox"]').each(function(){a(this).removeAttr("checked")})})}}function lscf_cf_variations(){var a=this,b=jQuery;this.lscf_methods=new lscf_methods,this.templateUrls={main_dropdown:adminData.lscf_url+"assets/js/templates/custom-fields/variation-fields-dropdown.html",items_checkboxes_list:adminData.lscf_url+"assets/js/templates/custom-fields/variation-fields-items.html"},this.variation_fields={fields:null,items:null,id:"",cf_index:0},this.init=function(b){var c=["px_select_box","px_check_box","px_icon_check_box","px_radio_box"];a.lscf_methods.get_lscf_custom_fields(b,c,function(b){1==b.success&&(a.variation_fields.fields=b.data.data.fields)}),a.lscf_methods.get_lscf_custom_fields(b,c.concat(["px_text","px_date"]),function(b){1==b.success&&(a.variation_fields.items=b.data.data.fields)})},this.init_variation_field=function(c,d,e){a.variation_fields.id=e,a.variation_fields.cf_index=parseInt(d.find(".px_field-box."+e).length)-1,b.get(a.templateUrls.main_dropdown,function(d){var e=Mustache.render(b(d).filter("#lscf-variations-cf-template").html(),a.variation_fields);c.find(".px_field-box").append(e),a.load_checkboxes_items(c)})},this.load_checkboxes_items=function(c){c.find(".lscf-variation-fields").change(function(){var d=b(this).val();if(0!=d){var e=b(this).closest(".px_field-box.px-cf-relationship").attr("data-type"),f=e.match(/(px_cf_relationship_.+?)_[0-9]+$/);a.variation_fields.id=f[1];var g={fields:[],id:a.variation_fields.id,cf_index:a.variation_fields.cf_index};for(var h in a.variation_fields.items)a.variation_fields.items[h].value!=d&&g.fields.push(a.variation_fields.items[h]);b.get(a.templateUrls.items_checkboxes_list,function(a){var d=Mustache.render(b(a).filter("#lscf-variations-cf-template").html(),g);c.find(".lscf-variation-rel-items-container").html(d),g=null})}else c.find(".lscf-variation-rel-items-container").html("")})}}function PX_customFields(){var a=this,b={customField:{fieldName_template:{classNames:"dynamic-added-field",fieldName:"px_",html:'<input class="dynamic-added-field" type="text" name="field_name" value=""/>',title:"Field name."},selectBox_template:{className_ofOptionsContainer:"px_select-options-container",label_addNewOption:'<span class="px_add_new_select_option px_addNewOption">+Add option</span>',newOptionInput_ClassName:"px_optionValue",htmlInput_addNewOption:'<input type="text" class="px_optionValue" name="px_add_new_select_option[]" value=""/>',removeOption:'<span class="px_removeOption">Delete</span>',removeOptionClassName:"px_removeOption"}},removeButton:{html:'<span class="remove-custom-field recent-added">Remove Field</span>'}},c={px_text:"Text",px_date:"Date",px_check_box:"Checkbox",px_icon_check_box:"Checkbox /w icons",px_radio_box:"Radio",px_select_box:"Select",px_cf_relationship:"Variation/Relationship"};this.wpMediaLibrary,this.cf_variations=new lscf_cf_variations,this.init=function(){a.postListAccordion(),a.initCustomFieldTemplate(),a.edit_option_custom_fields(),a.update_option_custom_fields(),a.wpMediaLibrary.openMediaLibrary("thumb"),$j(".px-post-type-row").each(function(){$j(this).data("key");a.initRemoveButton($j(this)),a.initRemoveOptionButton_selectBox($j(this)),a.cf_variations.load_checkboxes_items($j(this)),$j(this).find(".px_field-box").each(function(){var c=$j(this);$j(this).find(".px_addNewOption")&&$j(this).find(".px_addNewOption").click(function(){var d=c.find(".px_optionValue").val();if(d){var e=d,f="px_options_"+c.data("type"),g=a.DataFields(f,"",e,"hidden"),h=c.data("type");if(h.match(/^px_icon_check_box(.*?)/)){var i="px_options_icon_"+c.data("type"),j=a.DataFields(i,"img-link","","hidden"),k='<li><div class="choose_photo_box checkbox-icon-option"><span class="lscf-check-w-icon-remove remove_attachment hidden deleteImg"></span><div class="imgContainer"></div><span class="px_choose_img">Add Icon <strong>(40x40)</strong></span> &nbsp;'+j+d+b.customField.selectBox_template.removeOption+g+"</div></li>";return c.find(".px_select-options-container").append(k),c.find(".px_optionValue").val(""),a.initRemoveOptionButton_selectBox($j(this)),void a.wpMediaLibrary.openMediaLibrary("thumb")}var k="<li>"+d+b.customField.selectBox_template.removeOption+g+"</li>";c.find(".px_select-options-container").append(k),c.find(".px_optionValue").val(""),a.initRemoveOptionButton_selectBox($j(this))}})})})},this.template_makeFieldBoxHtml=function(a,b,d,e,f,g){var h=$j(".px-post-type-row.active").find(".px_field-box."+f).length,i=$j(".px-post-type-row.active").find(".recent-added").length,j=i%2==0?"even":"";if(f.match(/^px_icon_check_box/))var k="px-icon-check-box "+j+" "+f;else if(f.match(/^px_radio_box/))var k="px-radio-box "+j+" "+f;else if(f.match(/^px_check_box/))var k="px-check-box "+j+" "+f;else if(f.match(/^px_select_box/))var k="px-select-box "+j+" "+f;else if(f.match(/^px_cf_relationship/))var k="px-cf-relationship "+j+" "+f;else var k=j+" "+f;var l='<div class="px_field-box dynamic-added-box '+k+' " data-type="'+f+"_"+h+'" data-index="'+h+'">';return l+='<span class="px-error-msg"></span>',l+='<div class="inline">',l+="<label>"+d+"</label>"+b,"object"==typeof a?(l+=a.field_name,l+="<span>Type:</span><strong>"+c[g]+"</strong>",l+="</div>",l+=a.options,l+="</div>"):(l+=a,l+="<span>Type:</span><strong>"+c[g]+"</strong>",l+="</div>",l+="</div>")},this.edit_option_custom_fields=function(){$j(".lscf_edit_option").unbind("click"),$j(".lscf_edit_option").each(function(){$j(this).bind("click",function(){var a=$j(this).parent("li");a.find(".lscf_option_value").addClass("active"),a.find(".lscf_option_text").addClass("inactive")})})},this.update_option_custom_fields=function(){$j(".lscf_update_option").unbind("click"),$j(".lscf_update_option").bind("click",function(){var a=$j(this).attr("data-type"),b=$j(this).closest("li");switch(a){default:var c=b.find(".lscf_option_value").find('input[type="text"]').val();b.find(".lscf_option_text").text(c),b.find(".lscf_option_text").removeClass("inactive"),b.find(".lscf_option_value").removeClass("active")}})},this.postListAccordion=function(){$j(".px-button").click(function(b){return b.preventDefault(),b.stopPropagation(),a.checkForEmptyFields()&&$j("#lscf-custom-fields-form").submit(),!1}),$j(".px_innerContainer").each(function(){$j(this).click(function(){$j(this).find(".styledSelect").removeClass("active"),$j(this).find(".select").children("ul").hide()})}),$j(".px-post-type-row").each(function(){$j(this).click(function(b){$j(".styledSelect").removeClass("active"),$j(".select").children("ul").hide(),b.stopPropagation();var c=$j(this),d=$j(this).find(".px_innerContainer").height()+57,e=$j(this).attr("data-key");if(a.cf_variations.init(e),$j(this).find(".px_innerContainer").click(function(a){return"INPUT"==a.target.nodeName&&void a.stopPropagation()}),$j(this).hasClass("active")){if($j(this).animate({height:30},380,function(){$j(this).removeClass("active ready")}),"INPUT"!=b.target.nodeName)return!1;b.stopPropagation()}$j(this).find(".px_innerContainer").find("input").click(function(){return!0}),$j(".px-post-type-row.active").animate({height:30},380),$j(".px-post-type-row").removeClass("active ready"),c.addClass("active"),c.animate({height:d},380,function(){$j(this).attr({style:"height:auto"})})})})},this.initHeight=function(a){var b=a.find(".custom_fields-container");b.height()+b.position().top>=a.height()&&a.css({height:"auto"})},this.checkForEmptyFields=function(){$j(".px_field-box").removeClass("px-error"),$j(".px-error-msg").hide();var a=document.getElementsByClassName("px-post-type-row active");if("undefined"==typeof a||null==a||a.length<=0)return!1;var b=a[0].getElementsByTagName("input");if(b)for(index in b)if("undefined"!=typeof b[index].name){var c=new RegExp("-name(.*?)$");if(b[index].name.match(c)&&""===b[index].value){var d=$j(b[index]).offset().top-80,e=$j(b[index]).closest(".px_field-box");return e.addClass("px-error"),e.find(".px-error-msg").text("Field is empty"),e.find(".px-error-msg").show(),$j("html, body").animate({scrollTop:d},400),!1}}return!0},this.initCustomFieldTemplate=function(){var b=$j(".px-post-type-row"),c=$j(".custom_fields-container");$j(".px_add-new-custom-field").each(function(d){b.eq(d).data("key");$j(this).click(function(){var e=b.eq(d).data("key"),f=$j(".PX_add-field-type").eq(d).find("option:selected").val().toLowerCase();switch(f){case"date":a.customFieldTemplate_date(c.eq(d),"px_date_"+e,"px_date",b.eq(d)),a.addDataFields_onInputBlur("px_field-box.px-date","px-date px_date","px_date_"+e,b.eq(d));break;case"text":a.customFieldTemplate_text(c.eq(d),"px_text_"+e,"px_text",b.eq(d)),a.addDataFields_onInputBlur("px_field-box.px-text","px-text px_text","px_text_"+e,b.eq(d));break;case"select-box":a.customFieldTemplate_select(c.eq(d),"px_select_box_"+e,"px_select_box",b.eq(d)),a.initAddNewOption_toSelectBox(b.eq(d),"px_select_box_"+e),a.addDataFields_onInputBlur("px_field-box.px-select-box","px-option px_select_box","px_select_box_"+e,b.eq(d));break;case"radio":a.customFieldTemplate_select(c.eq(d),"px_radio_box_"+e,"px_radio_box",b.eq(d)),a.initAddNewOption_toSelectBox(b.eq(d),"px_radio_box_"+e),a.addDataFields_onInputBlur("px_field-box.px-radio-box","px-option px_radio_box","px_radio_box_"+e,b.eq(d));break;case"checkbox":a.customFieldTemplate_select(c.eq(d),"px_check_box_"+e,"px_check_box",b.eq(d)),a.initAddNewOption_toSelectBox(b.eq(d),"px_check_box_"+e),a.addDataFields_onInputBlur("px_field-box.px-check-box","px-option px_check_box","px_check_box_"+e,b.eq(d))}a.initHeight(b.eq(d)),a.initRemoveButton(b.eq(d))})})},this.initRemoveButton=function(a){var b=a.find(".remove-custom-field"),c=a.find(".px_field-box");b.unbind("click"),b.each(function(a){$j(this).bind("click",function(){c.eq(a).remove(),$j(this).remove()})})},this.initRemoveOptionButton_selectBox=function(c){c.find("."+b.customField.selectBox_template.className_ofOptionsContainer).each(function(b){var d=c.eq(b).find(".px_select-options-container");c.eq(b).find(".px_removeOption");d.each(function(b){var d=$j(this).find(".px_removeOption"),e=$j(this);d.unbind("click"),$j(this).find(".px_removeOption").each(function(b){$j(this).bind("click",function(){var d=e.find("li").eq(b);d.css({boder:"5px solid red"}),d.remove(),a.initRemoveOptionButton_selectBox(c)})})})})},this.customOptions_generateTheOptionInputName=function(a,b){a.each(function(c){var d=a.data("key");$j(this).find(".px_select-options-container").find(".px-data-input").each(function(){$j(this).attr("name",b+d)})})},this.sanitize=function(a){var b=a.toLowerCase().replace(/([\!\@\#\$\%\^\&\*\(\[\)\]\{\-\}\\\/\:\;\+\=\.\<\,\>\?\~\`\'\" ]+)/g,"_");return b.replace(/[_]+$/,"")},this.DataFields=function(a,b,c,d,e,f){if("undefined"!=typeof e)var g=parseInt(f.data("index")),h=a+"["+g+"]";else var h=a+"[]";return"undefined"==typeof d&&(d="text"),'<input type="'+d+'" name="'+h+'" class="hide_px_dynamic-field '+b+'" value="'+c+'"/>'},this.addDataFields_onInputBlur=function(b,c,d,e){$j("."+b).each(function(e){var f=c.split(" "),g=$j("."+b).eq(e),h=$j("."+b).eq(e).find("."+f[0]);h.unbind("blur"),h.each(function(c){$j(this).bind("blur",function(){var h=a.sanitize($j(this).val());if($j("."+b).eq(e).find("."+f[0]+"-data").length>0)$j("."+b).eq(e).find("."+f[0]+"-data").eq(c).val(h);else{var i=a.DataFields(d,f[0]+"-data",h,"hidden",f[1],g);$j("."+b).eq(e).append(i)}})})})},this.initAddNewOption_toSelectBox=function(c,d){var e=c.find(".px_addNewOption");appendContainer=c.find("."+b.customField.selectBox_template.className_ofOptionsContainer),e.unbind("click"),e.each(function(d){$j(this).click(function(){var e=$j(this).closest(".px_field-box"),f=e.data("type"),g=e.find("."+b.customField.selectBox_template.newOptionInput_ClassName).val();if(g){var h=g,i="px_options_"+e.data("type"),j=a.DataFields(i,"",h,"text");if(f.match(/^px_icon_check_box(.*?)/)){var k="px_options_icon_"+e.data("type"),l=a.DataFields(k,"img-link","","hidden"),m='<li><div class="choose_photo_box checkbox-icon-option"><span class="lscf-check-w-icon-remove remove_attachment deleteImg hidden"></span><div class="imgContainer"></div><span class="px_choose_img">Add Icon <strong>(40x40)</strong></span> &nbsp;'+l;return'<span class="lscf_option_text">'+g+"</span>"+b.customField.selectBox_template.removeOption+'<span class="lscf_edit_option">Edit</span> <span class="lscf_option_value">'+j+'<span class="lscf_update_option" data-type="icon-checkbox"></span> </span>',appendContainer.eq(d).append(m),e.find("."+b.customField.selectBox_template.newOptionInput_ClassName).val(""),a.initRemoveOptionButton_selectBox(c),a.wpMediaLibrary.openMediaLibrary("thumb"),a.edit_option_custom_fields(),void a.update_option_custom_fields()}var m='<li><span class="lscf_option_text">'+g+"</span>"+b.customField.selectBox_template.removeOption+'<span class="lscf_edit_option">Edit</span> <span class="lscf_option_value">'+j+'<span class="lscf_update_option" data-type="default"></span> </span></li>';appendContainer.eq(d).append(m),e.find("."+b.customField.selectBox_template.newOptionInput_ClassName).val(""),a.initRemoveOptionButton_selectBox(c),a.edit_option_custom_fields(),a.update_option_custom_fields()}})})},this.customFieldTemplate_date=function(c,d,e,f){var g=f.find("."+e).length,h=b;h.customField.fieldName_template.html='<input type="text" name="'+d+"-name["+g+']" class="'+h.customField.fieldName_template.classNames+" px-date "+e+'">';var i=a.template_makeFieldBoxHtml(h.customField.fieldName_template.html,h.removeButton.html,h.customField.fieldName_template.title,"px-date","px-date",e);c.prepend(i)},this.customFieldTemplate_text=function(c,d,e,f,g){var h=f.find("."+e).length,i=b;i.customField.fieldName_template.html='<input type="text" name="'+d+"-name["+h+']" class="'+i.customField.classNames+" px-text "+e+'">';var j=a.template_makeFieldBoxHtml(i.customField.fieldName_template.html,i.removeButton.html,i.customField.fieldName_template.title,"px-text","px-text",e);"undefined"!=typeof g&&null!==g?(j=$j("<div />").html(j),c.prepend(j),g(j)):c.prepend(j)},this.customFieldTemplate_variation=function(c,d,e,f,g){var h=f.find("."+e).length,i=b;i.customField.fieldName_template.html='<input type="text" name="'+d+"-name["+h+']" class=" px-cf-relationship-name '+d+"-input "+e+'">';var j=a.template_makeFieldBoxHtml(i.customField.fieldName_template.html,i.removeButton.html,i.customField.fieldName_template.title,"px-cf-relationship",d,e);"undefined"!=typeof g&&null!==g?(j=$j("<div />").html(j),c.prepend(j),g(j)):c.prepend(j)},this.customFieldTemplate_select=function(c,d,e,f){var g=f.find("."+e).length,h=b,i="",j={};h.customField.fieldName_template.html='<input type="text" name="'+d+"-name["+g+']" class="px-option '+e+'">',j.field_name=h.customField.fieldName_template.html,i='<ul class="'+h.customField.selectBox_template.className_ofOptionsContainer+'"></ul>',j.options=i,j.options+='<div class="px-option-add-new">',j.options+=h.customField.selectBox_template.htmlInput_addNewOption,j.options+=h.customField.selectBox_template.label_addNewOption,j.options+="</div>";var k=a.template_makeFieldBoxHtml(j,h.removeButton.html,h.customField.fieldName_template.title,b.customField.selectBox_template.className_ofOptionsContainer,d,e);c.prepend(k)}}function lscf_methods(){var a=jQuery,b="px-plugin-ajax",c=adminData.ajaxURL;this.get_lscf_custom_fields=function(d,e,f){a.ajax({type:"POST",url:c,data:{action:b,section:"getPostType_customFields",fieldType:e,post_type:d},success:function(a){f(a)},dataType:"json"})}}if(getCookie("px_new_custom_post")){var cookieAddedNewCustomPost=getCookie("px_new_custom_post");1==cookieAddedNewCustomPost&&alert("A new Custom Post Type was added!\nPlease reset your Permalinks to avoid 404 on new created custom post type"),document.cookie="px_new_custom_post=0"}var $j=jQuery;$j(document).ready(function(){var a=new ajaxCallbacks,b=new PX_pluginLF;if(document.URL.match(/plugin-tab=filter-generator&edit_filter=[0-0a-zA-Z]+/)){var c=document.URL.match(/plugin-tab=filter-generator&edit_filter=([0-9a-zA-Z_-]+)/);b.edit_shortcode.filterID=c[1]}a.template=b.template,b.callbacks=a,b.init();var d=new mediaLibrary,e=new PX_customFields;e.wpMediaLibrary=d,e.init();var f=new LscfSettings;f.init(),f.saveSettings(),LscfWooCommerce.prototype.init_tax_subcategories=function(){return a.init_tax_subcategories()},$j(".initCalendar").datepicker(),$j(".lscf-colorpick").colorPicker()});var isStep2Active=new is_step2_active,LscfWooComm=new LscfWooCommerce;jQuery(document).ready(function(){filterThemeSettings()}),jQuery(document).ready(function(){var a=new ImportExportCustomFields;a.init()});